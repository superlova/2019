---
layout: 'n'
title: hexo图片加载失败解决方案
date: 2019-04-25 16:16:00
tags: ["github pages", "hexo"]
categories:
  - record
---
## 问题描述：
我平时写blog使用的编辑器是Typora，采用hexo部署。某篇文章编辑的时候需要插入图片，在Typora上面，插入图片的语法是

` ![图片标题](图片地址) `
比如` ![](C:\Folder\picture.png) `

其中图片地址是绝对路径，即盘符开头的那个路径。但是如果要上传到GitHub Pages上面，路径毫无疑问会发生变化，所以这里只能用相对路径。假设你的图片和当前的博客文件在同一目录下，则直接这样：

` ![](picture.png) `
` ![](.\picture.png) `
` ![](./picture.png) `

用过unix文件系统的人都知道，其实那个`.`的作用就是指明“当前文件夹下”。但如果图片和博客文件放在一个文件夹下，肯定会导致文件夹越来越乱。所以我们有其他方式插入图片。

1. 在你的博客根目录下，打开git bash，输入以下命令：

` npm install hexo-asset-image --save `

![npm安装图片插件](npm安装图片插件.png)

2. 打开博客根目录下的_config.yml
添加一行 `post_asset_folder: true` 或者将该项设成true

3. 以后插图片就这么插：
` ![随便写写](picture.png) `

但是你看！我还是失败了，这是搞毛呢？

![插入图片失败示例](插入图片失败示例.png)

经查，很多人有我这样的问题，出错方法却千奇百怪。
有的人是生成目录出错的：
![生成绝对路径不完整](生成绝对路径不完整.png)
有人生成目录日期格式不对的
![生成目录日期格式不对](有生成目录日期格式不对的.png)
还有人回退版本妥协~
![还有回退版本的](还有回退版本的.png)
我还是从这位老哥的回答受到了启发
![这位老哥还解决了问题](这位老哥还解决了问题.png)
其实答案就在其中
![但是其实人家答案已经很清楚了](但是其实人家答案已经很清楚了.png)
那就是打开_config.yml（我发现我的所有错误都可以从该文件中得到解决），按下图修改。  
![不作死就不会死](不作死就不会死.png)  
我如此疯狂地插入图片就是为了练习插入图片的方法，怕是有生之年不会忘记了。
